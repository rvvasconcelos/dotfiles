#!/bin/zsh
# .files(): sincroniza seus dotfiles com o repo remoto.
# OBS.: o uso de (parênteses) no lugar de {chaves} é 
#       intencional e serve para que não seja necessário
#       fazer um `cd` pra voltar para o diretório anterior
dtfiles() (
  local dotfilesDir="${HOME}/dotfiles"
  local gitStatus

  cd "${dotfilesDir}"

  gitStatus="$(git status --porcelain)"

  if [[ -z "${gitStatus}" ]]; then
    warn "dotfiles: nothing to update"
    return 0
  fi

  git add --all \
    && git status \
    && git commit -m "update $(date +'%Y-%m-%d %R'): ${gitStatus}" \
    && git pull --rebase \
    && git push
)


